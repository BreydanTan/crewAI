# ğŸ¤– PROJECT_COGNITIVE_STATE.md
*(å¤åˆ¶æ­¤æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼Œç²˜è´´åˆ°æ–°çš„AIå¯¹è¯ä¸­ï¼Œå³å¯æ— ç¼ç»§ç»­å­¦ä¹ )*

---

## 1. æ ¸å¿ƒæŒ‡ä»¤ (COGNITIVE_CORE)
*AIå¿…é¡»åœ¨æ¯æ¬¡æ¢å¤æ—¶é‡æ–°åŠ è½½è¿™äº›æŒ‡ä»¤*

### ğŸ¯ è§’è‰²å®šä½
ä½ æ˜¯ **è®¤çŸ¥æ¶æ„å­¦ä¹ å¼•æ“**ï¼Œä¸“é—¨å°†æ–°æ‰‹åŸ¹å…»æˆ crewAI é¡¹ç›®ä¸“å®¶ã€‚

### ğŸ“š æ ¸å¿ƒåŸåˆ™

**åŸåˆ™1 - è®¤çŸ¥è´Ÿè·ç®¡ç† (CLT)**
- âœ… å‡è®¾å­¦ä¹ è€…æ˜¯æ–°æ‰‹ï¼Œå·¥ä½œè®°å¿†æœ‰é™
- âœ… æœ€å°åŒ–"å¤–åœ¨è®¤çŸ¥è´Ÿè·" - åªå…³æ³¨ **Happy Path**ï¼ˆç†æƒ³æ‰§è¡Œè·¯å¾„ï¼‰
- âœ… ä½¿ç”¨ **ä¿¡ä»¤** (Signaling)ï¼š**åŠ ç²—** å…³é”®æ¦‚å¿µï¼Œ`ä»£ç é«˜äº®` æŠ€æœ¯æœ¯è¯­
- âœ… ä½¿ç”¨ **åŒé‡ç¼–ç ** (Dual Coding)ï¼šæ–‡æœ¬ + å›¾è¡¨ï¼ˆMermaid/ASCIIï¼‰

**åŸåˆ™2 - ä¸“é•¿åè½¬æ•ˆåº” (Expertise Reversal)**
- âœ… å¿…é¡»æä¾› **ç›´æ¥ã€æ˜ç¡®çš„æŒ‡å¯¼**
- âœ… ä½¿ç”¨ **é›†ä¸­ç»ƒä¹ ** (Blocked Practice)ï¼šä¸€æ¬¡åªå­¦ä¸€ä¸ªæ¦‚å¿µ
- âŒ ä¸¥ç¦"æ¢ç©¶å¼å­¦ä¹ " - ä¸è¦è®©æ–°æ‰‹è‡ªå·±æ‘¸ç´¢

**åŸåˆ™3 - ä¸»åŠ¨å­¦ä¹  (Retrieval Practice)**
- âœ… æ‹’ç»è¢«åŠ¨é˜…è¯»
- âœ… æ¯ä¸ªæ•™å­¦å•å…ƒå¿…é¡»ä»¥ **ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜** ç»“æŸ
- âœ… é—®é¢˜å¿…é¡»æ˜¯ **ç”Ÿæˆæ€§çš„**ï¼ˆ"ç”¨ä½ è‡ªå·±çš„è¯è§£é‡Š..."ã€"é¢„æµ‹..."ï¼‰

**åŸåˆ™4 - ä¸Šä¸‹æ–‡æŒä¹…åŒ– (Context Persistence)**
- âœ… å¿…é¡»è§£æ `LEARNING_STATE` å¹¶è‡ªåŠ¨æ‰§è¡Œ `[ä¸‹ä¸€æ­¥è¡ŒåŠ¨]`
- âœ… æ¯æ¬¡å“åº”ç»“æŸæ—¶ï¼Œç”Ÿæˆæ­¤æ–‡ä»¶çš„å®Œæ•´æ›´æ–°

---

## 2. å­¦ä¹ è¿›åº¦ (LEARNING_STATE)

### ğŸ¯ é¡¹ç›®ç›®æ ‡
**crewAI** æ˜¯ä¸€ä¸ª **å¤šæ™ºèƒ½ä½“ AI ç¼–æ’æ¡†æ¶**ï¼Œè®©å¼€å‘è€…å¯ä»¥åˆ›å»º"AI å›¢é˜Ÿ"æ¥åä½œå®Œæˆå¤æ‚ä»»åŠ¡ã€‚å®ƒæä¾›ä¸¤ç§æ ¸å¿ƒæ¨¡å¼ï¼š
- **Crewsï¼ˆå›¢é˜Ÿï¼‰**ï¼šè‡ªä¸»åä½œçš„ AI æ™ºèƒ½ä½“
- **Flowsï¼ˆæµç¨‹ï¼‰**ï¼šç²¾ç¡®æ§åˆ¶çš„äº‹ä»¶é©±åŠ¨å·¥ä½œæµ

### ğŸ“‹ å­¦ä¹ å¤§çº²ï¼ˆæ•™å­¦å›¾å¼ï¼‰

```
[âœ“] æ¨¡å— 1ï¼šé¡¹ç›®æ¦‚è§ˆä¸æ ¸å¿ƒä¸‰è§’ (Agent-Task-Crew)
[âœ“] æ¨¡å— 2ï¼šä½ çš„ç¬¬ä¸€ä¸ª CrewAI ç¨‹åºï¼ˆSequential Process - Happy Pathï¼‰
[âœ“] æ¨¡å— 3ï¼šå·¥å…·ç³»ç»Ÿ - èµ‹äºˆ Agent è¶…èƒ½åŠ›
[âœ“] æ¨¡å— 4ï¼šFlow ç³»ç»Ÿ - äº‹ä»¶é©±åŠ¨çš„ç²¾ç¡®æ§åˆ¶
[âœ“] æ¨¡å— 5ï¼šè®°å¿†ç³»ç»Ÿ - Agent å¦‚ä½•è®°ä½ä¸Šä¸‹æ–‡
[âœ“] æ¨¡å— 6ï¼šé«˜çº§ç‰¹æ€§ï¼ˆHierarchical Processã€Knowledgeã€è¾“å‡ºæ ¼å¼ï¼‰
[FINAL] ç»¼åˆå®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§ Multi-Agent ç³»ç»Ÿ
```

### ğŸ“ å½“å‰çŠ¶æ€
- **å·²å®Œæˆæ¨¡å—**ï¼šæ¨¡å— 1-6ï¼ˆå…¨éƒ¨å®Œæˆï¼‰
- **ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼š[å¾…å®š] â†’ ç­‰å¾…å­¦ä¹ è€…é˜…è¯»å®Œæ‰€æœ‰æ¨¡å—åï¼Œè¿›å…¥ç»¼åˆå®æˆ˜é˜¶æ®µ

---

## 3. æ¨¡å—è¯¦ç»†å†…å®¹

---

# ğŸ“˜ æ¨¡å— 1ï¼šé¡¹ç›®æ¦‚è§ˆä¸æ ¸å¿ƒä¸‰è§’ (Agent-Task-Crew)

## ğŸ¯ å­¦ä¹ ç›®æ ‡
ç†è§£ crewAI çš„ **ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶** åŠå…¶å…³ç³»ï¼š
1. **Agentï¼ˆæ™ºèƒ½ä½“ï¼‰** - "è°"æ¥æ‰§è¡Œ
2. **Taskï¼ˆä»»åŠ¡ï¼‰** - "åšä»€ä¹ˆ"
3. **Crewï¼ˆå›¢é˜Ÿï¼‰** - "å¦‚ä½•åä½œ"

---

## ğŸ§© æ ¸å¿ƒæ¦‚å¿µåœ°å›¾

```mermaid
graph TB
    A[Crew å›¢é˜Ÿ] --> B[Agent 1: ç ”ç©¶å‘˜]
    A --> C[Agent 2: åˆ†æå¸ˆ]
    A --> D[Task 1: ç ”ç©¶å¸‚åœº]
    A --> E[Task 2: æ’°å†™æŠ¥å‘Š]

    D -->|åˆ†é…ç»™| B
    E -->|åˆ†é…ç»™| C
    E -->|ä¾èµ–| D

    style A fill:#ff6b6b,color:#fff
    style B fill:#4ecdc4,color:#fff
    style C fill:#4ecdc4,color:#fff
    style D fill:#ffe66d,color:#333
    style E fill:#ffe66d,color:#333
```

---

## ğŸ“– æ ¸å¿ƒæ¦‚å¿µè¯¦è§£

### 1ï¸âƒ£ **Agentï¼ˆæ™ºèƒ½ä½“ï¼‰** - "å›¢é˜Ÿæˆå‘˜"

**å®šä¹‰**ï¼šAgent æ˜¯ä¸€ä¸ªå…·æœ‰ **è§’è‰²**ã€**ç›®æ ‡** å’Œ **èƒŒæ™¯æ•…äº‹** çš„ AI å®ä½“ã€‚

**æ ¸å¿ƒå±æ€§**ï¼š
```python
from crewai import Agent

researcher = Agent(
    role="é«˜çº§å¸‚åœºç ”ç©¶å‘˜",           # è§’è‰²ï¼šè¿™ä¸ª Agent æ‰®æ¼”ä»€ä¹ˆèº«ä»½ï¼Ÿ
    goal="å‘ç° AI é¢†åŸŸçš„æœ€æ–°è¶‹åŠ¿",   # ç›®æ ‡ï¼šå®ƒè¦è¾¾æˆä»€ä¹ˆï¼Ÿ
    backstory="""ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç ”ç©¶å‘˜ï¼Œ
    æ“…é•¿ä»æµ·é‡ä¿¡æ¯ä¸­æå–å…³é”®æ´å¯Ÿã€‚""",  # èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆå®ƒèƒ½èƒœä»»ï¼Ÿ
    verbose=True,                    # æ˜¯å¦æ‰“å°æ‰§è¡Œè¿‡ç¨‹
    allow_delegation=False           # æ˜¯å¦å…è®¸å§”æ´¾ä»»åŠ¡ç»™å…¶ä»– Agent
)
```

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- Agent å°±åƒå…¬å¸é‡Œçš„"èŒå‘˜"ï¼Œæœ‰ä¸“ä¸šåˆ†å·¥
- `role` å®šä¹‰äº†å®ƒçš„"èŒä½"
- `goal` å®šä¹‰äº†å®ƒçš„"KPI"
- `backstory` å¢å¼ºäº† LLM çš„è§’è‰²æ‰®æ¼”èƒ½åŠ›

---

### 2ï¸âƒ£ **Taskï¼ˆä»»åŠ¡ï¼‰** - "å·¥ä½œå•"

**å®šä¹‰**ï¼šTask æè¿°äº† **è¦åšä»€ä¹ˆ** ä»¥åŠ **æœŸæœ›çš„è¾“å‡ºæ˜¯ä»€ä¹ˆ**ã€‚

**æ ¸å¿ƒå±æ€§**ï¼š
```python
from crewai import Task

research_task = Task(
    description="""
    ç ”ç©¶ 2025 å¹´ AI Agent é¢†åŸŸçš„ 5 ä¸ªæœ€æ–°è¶‹åŠ¿ã€‚
    å…³æ³¨ï¼šæŠ€æœ¯çªç ´ã€å•†ä¸šåº”ç”¨ã€å¼€æºé¡¹ç›®ã€‚
    """,                              # æè¿°ï¼šå…·ä½“è¦åšä»€ä¹ˆ

    expected_output="""
    ä¸€ä»½ Markdown æ ¼å¼çš„åˆ—è¡¨ï¼ŒåŒ…å«ï¼š
    - è¶‹åŠ¿åç§°
    - ç®€çŸ­æè¿°ï¼ˆ2-3 å¥è¯ï¼‰
    - ç›¸å…³é“¾æ¥
    """,                              # æœŸæœ›è¾“å‡ºï¼šç»“æœåº”è¯¥é•¿ä»€ä¹ˆæ ·

    agent=researcher                  # è´Ÿè´£äººï¼šå“ªä¸ª Agent æ‰§è¡Œæ­¤ä»»åŠ¡
)
```

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- Task å¿…é¡»æ˜ç¡®æŒ‡å®š `description`ï¼ˆåšä»€ä¹ˆï¼‰å’Œ `expected_output`ï¼ˆè¦ä»€ä¹ˆç»“æœï¼‰
- Task é€šè¿‡ `agent=...` åˆ†é…ç»™ç‰¹å®šçš„ Agent
- `expected_output` è¶Šå…·ä½“ï¼ŒAgent çš„è¾“å‡ºè´¨é‡è¶Šé«˜

---

### 3ï¸âƒ£ **Crewï¼ˆå›¢é˜Ÿï¼‰** - "é¡¹ç›®ç®¡ç†å™¨"

**å®šä¹‰**ï¼šCrew å°† Agents å’Œ Tasks ç»„åˆèµ·æ¥ï¼Œå®šä¹‰ **æ‰§è¡Œæµç¨‹**ã€‚

**æ ¸å¿ƒå±æ€§**ï¼š
```python
from crewai import Crew, Process

crew = Crew(
    agents=[researcher, analyst],     # å›¢é˜Ÿæˆå‘˜åˆ—è¡¨
    tasks=[research_task, report_task], # ä»»åŠ¡åˆ—è¡¨
    process=Process.sequential,       # æ‰§è¡Œæµç¨‹ï¼šé¡ºåºæ‰§è¡Œ
    verbose=True
)
```

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- Crew æ˜¯"å®¹å™¨"ï¼ŒæŠŠ Agents å’Œ Tasks è£…åœ¨ä¸€èµ·
- `process=Process.sequential` è¡¨ç¤ºä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œï¼ˆTask 1 â†’ Task 2 â†’ Task 3ï¼‰
- Crew è´Ÿè´£è°ƒåº¦å’Œåè°ƒæ•´ä¸ªå·¥ä½œæµ

---

## ğŸ”„ æ‰§è¡Œæµç¨‹ï¼ˆHappy Pathï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. åˆ›å»º Agentsï¼ˆå®šä¹‰å›¢é˜Ÿæˆå‘˜ï¼‰                    â”‚
â”‚     researcher = Agent(role="ç ”ç©¶å‘˜", ...)        â”‚
â”‚     analyst = Agent(role="åˆ†æå¸ˆ", ...)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. åˆ›å»º Tasksï¼ˆå®šä¹‰å·¥ä½œå†…å®¹ï¼‰                     â”‚
â”‚     task1 = Task(description="ç ”ç©¶...", agent=...) â”‚
â”‚     task2 = Task(description="åˆ†æ...", agent=...) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. åˆ›å»º Crewï¼ˆç»„è£…å›¢é˜Ÿï¼‰                          â”‚
â”‚     crew = Crew(agents=[...], tasks=[...])        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. å¯åŠ¨æ‰§è¡Œ                                       â”‚
â”‚     result = crew.kickoff()                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. è·å–ç»“æœ                                       â”‚
â”‚     print(result.raw)  # åŸå§‹æ–‡æœ¬è¾“å‡º              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ æœ€å°å¯è¿è¡Œç¤ºä¾‹ï¼ˆHAPPY PATHï¼‰

```python
# æ–‡ä»¶: minimal_crew.py
from crewai import Agent, Task, Crew, Process

# æ­¥éª¤ 1ï¼šåˆ›å»º Agent
writer = Agent(
    role="æŠ€æœ¯ä½œå®¶",
    goal="æ’°å†™ç®€æ´æ˜“æ‡‚çš„æŠ€æœ¯æ–‡æ¡£",
    backstory="ä½ æ“…é•¿å°†å¤æ‚æ¦‚å¿µè½¬åŒ–ä¸ºç®€å•è¯­è¨€",
    verbose=True
)

# æ­¥éª¤ 2ï¼šåˆ›å»º Task
writing_task = Task(
    description="ç”¨ 3 å¥è¯è§£é‡Šä»€ä¹ˆæ˜¯ AI Agent",
    expected_output="3 å¥è¯çš„ç®€çŸ­è§£é‡Šï¼Œé€‚åˆæ–°æ‰‹é˜…è¯»",
    agent=writer
)

# æ­¥éª¤ 3ï¼šåˆ›å»º Crew
crew = Crew(
    agents=[writer],
    tasks=[writing_task],
    process=Process.sequential
)

# æ­¥éª¤ 4ï¼šæ‰§è¡Œ
result = crew.kickoff()

# æ­¥éª¤ 5ï¼šæŸ¥çœ‹ç»“æœ
print(result.raw)
```

**è¿è¡Œ**ï¼š
```bash
python minimal_crew.py
```

---

## ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜

**é—®é¢˜ 1ï¼ˆæ¦‚å¿µç†è§£ï¼‰**ï¼š
ç”¨ä½ è‡ªå·±çš„è¯ï¼Œè§£é‡Š Agentã€Taskã€Crew ä¸‰è€…çš„åŒºåˆ«ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•åä½œçš„ï¼Ÿ

**é—®é¢˜ 2ï¼ˆé¢„æµ‹è¡Œä¸ºï¼‰**ï¼š
å¦‚æœæˆ‘åˆ›å»ºäº† 2 ä¸ª Agents å’Œ 3 ä¸ª Tasksï¼Œä½†åªå°† Task åˆ†é…ç»™äº†ç¬¬ä¸€ä¸ª Agentï¼Œé¢„æµ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**é—®é¢˜ 3ï¼ˆå®é™…åº”ç”¨ï¼‰**ï¼š
å‡è®¾ä½ è¦æ„å»ºä¸€ä¸ª"æ–°é—»æ‘˜è¦ç³»ç»Ÿ"ï¼Œéœ€è¦ï¼š
1. æŠ“å–æ–°é—»
2. æå–å…³é”®ä¿¡æ¯
3. ç”Ÿæˆæ‘˜è¦

è¯·è§„åˆ’ä½ éœ€è¦å‡ ä¸ª Agentsï¼Ÿæ¯ä¸ª Agent çš„ role å’Œ goal æ˜¯ä»€ä¹ˆï¼Ÿéœ€è¦å‡ ä¸ª Tasksï¼Ÿ

---

# ğŸ“˜ æ¨¡å— 2ï¼šä½ çš„ç¬¬ä¸€ä¸ª CrewAI ç¨‹åºï¼ˆSequential Process - Happy Pathï¼‰

## ğŸ¯ å­¦ä¹ ç›®æ ‡
é€šè¿‡ **å®é™…ä»£ç ** ç†è§£ crewAI çš„é¡ºåºæ‰§è¡Œæµç¨‹ï¼ŒæŒæ¡ï¼š
1. å¦‚ä½•ä½¿ç”¨ **YAML é…ç½®** ç®¡ç† Agents å’Œ Tasks
2. **Sequential Process** çš„æ‰§è¡Œé€»è¾‘
3. å¦‚ä½•ä¼ é€’ **åŠ¨æ€è¾“å…¥å‚æ•°** åˆ°ä»»åŠ¡ä¸­

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„ï¼ˆCrewAI æ¨èï¼‰

```
my_research_crew/
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡ï¼ˆAPI Keysï¼‰
â”œâ”€â”€ pyproject.toml                # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md
â””â”€â”€ src/
    â””â”€â”€ my_research_crew/
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ main.py               # å…¥å£æ–‡ä»¶
        â”œâ”€â”€ crew.py               # Crew å®šä¹‰
        â”œâ”€â”€ config/
        â”‚   â”œâ”€â”€ agents.yaml       # Agents é…ç½®
        â”‚   â””â”€â”€ tasks.yaml        # Tasks é…ç½®
        â””â”€â”€ tools/
            â””â”€â”€ custom_tool.py    # è‡ªå®šä¹‰å·¥å…·ï¼ˆæš‚ä¸ä½¿ç”¨ï¼‰
```

---

## ğŸ“ æ­¥éª¤ 1ï¼šä½¿ç”¨ CLI åˆ›å»ºé¡¹ç›®

```bash
# å®‰è£… crewai
pip install crewai

# åˆ›å»ºé¡¹ç›®ï¼ˆCLI ä¼šè‡ªåŠ¨ç”Ÿæˆä¸Šè¿°ç»“æ„ï¼‰
crewai create crew my_research_crew

# è¿›å…¥é¡¹ç›®ç›®å½•
cd my_research_crew
```

---

## ğŸ“ æ­¥éª¤ 2ï¼šé…ç½® Agentsï¼ˆagents.yamlï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`src/my_research_crew/config/agents.yaml`

```yaml
# Agents é…ç½®æ–‡ä»¶
researcher:
  role: >
    {topic} é¢†åŸŸçš„é«˜çº§ç ”ç©¶å‘˜
  goal: >
    å‘ç°å…³äº {topic} çš„æœ€æ–°ã€æœ€ç›¸å…³çš„ä¿¡æ¯
  backstory: >
    ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç ”ç©¶å‘˜ï¼Œæ“…é•¿ä»å¤§é‡æ•°æ®ä¸­æå–æœ‰ä»·å€¼çš„æ´å¯Ÿã€‚
    ä½ å¯¹ {topic} æœ‰æ·±å…¥äº†è§£ï¼Œæ€»èƒ½æ‰¾åˆ°æœ€æƒå¨çš„ä¿¡æ¯æºã€‚

analyst:
  role: >
    {topic} æ•°æ®åˆ†æå¸ˆ
  goal: >
    å°†ç ”ç©¶æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æŠ¥å‘Š
  backstory: >
    ä½ æ“…é•¿å°†å¤æ‚çš„æ•°æ®æ•´ç†æˆæ¸…æ™°ã€æ˜“è¯»çš„æŠ¥å‘Šã€‚
    ä½ çš„æŠ¥å‘Šæ€»æ˜¯é€»è¾‘æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜ã€‚
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- `{topic}` æ˜¯ **å ä½ç¬¦**ï¼Œè¿è¡Œæ—¶ä¼šè¢«å®é™…å‚æ•°æ›¿æ¢
- ä½¿ç”¨ `>` å¯ä»¥å†™å¤šè¡Œæ–‡æœ¬

---

## ğŸ“ æ­¥éª¤ 3ï¼šé…ç½® Tasksï¼ˆtasks.yamlï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`src/my_research_crew/config/tasks.yaml`

```yaml
# Tasks é…ç½®æ–‡ä»¶
research_task:
  description: >
    æ·±å…¥ç ”ç©¶ {topic}ï¼Œæ‰¾åˆ° 2025 å¹´æœ€é‡è¦çš„ 5 ä¸ªå‘å±•è¶‹åŠ¿ã€‚
    ç¡®ä¿ä¿¡æ¯æ¥æºå¯é ï¼Œæ•°æ®å‡†ç¡®ã€‚
  expected_output: >
    ä¸€ä»½åŒ…å« 5 ä¸ªè¦ç‚¹çš„åˆ—è¡¨ï¼Œæ¯ä¸ªè¦ç‚¹åŒ…å«ï¼š
    - è¶‹åŠ¿æ ‡é¢˜
    - è¯¦ç»†æè¿°ï¼ˆ3-5 å¥è¯ï¼‰
    - æ•°æ®æ”¯æŒæˆ–æ¡ˆä¾‹
  agent: researcher  # æŒ‡å®šç”± researcher æ‰§è¡Œ

analysis_task:
  description: >
    åŸºäºç ”ç©¶ç»“æœï¼Œç”Ÿæˆä¸€ä»½å®Œæ•´çš„åˆ†ææŠ¥å‘Šã€‚
    æŠ¥å‘Šåº”åŒ…å«ï¼šå¼•è¨€ã€ä¸»è¦å‘ç°ã€ç»“è®ºã€‚
  expected_output: >
    ä¸€ä»½ç»“æ„åŒ–çš„ Markdown æŠ¥å‘Šï¼ŒåŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š
    ## å¼•è¨€
    ## ä¸»è¦å‘ç°
    ## ç»“è®º
  agent: analyst  # æŒ‡å®šç”± analyst æ‰§è¡Œ
  output_file: report.md  # å°†è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- `agent: researcher` å°†ä»»åŠ¡åˆ†é…ç»™ `agents.yaml` ä¸­å®šä¹‰çš„ `researcher`
- `output_file: report.md` ä¼šè‡ªåŠ¨å°†ç»“æœä¿å­˜ä¸ºæ–‡ä»¶

---

## ğŸ“ æ­¥éª¤ 4ï¼šå®šä¹‰ Crewï¼ˆcrew.pyï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`src/my_research_crew/crew.py`

```python
from crewai import Agent, Crew, Process, Task
from crewai.project import CrewBase, agent, crew, task

# @CrewBase è£…é¥°å™¨è‡ªåŠ¨è¯»å– config/ ç›®å½•ä¸‹çš„ YAML æ–‡ä»¶
@CrewBase
class MyResearchCrew:
    """ç ”ç©¶åˆ†æå›¢é˜Ÿ"""

    # agents_config å’Œ tasks_config ä¼šè‡ªåŠ¨åŠ è½½
    # æ¥è‡ª config/agents.yaml å’Œ config/tasks.yaml

    @agent
    def researcher(self) -> Agent:
        """åˆ›å»ºç ”ç©¶å‘˜ Agent"""
        return Agent(
            config=self.agents_config['researcher'],  # ä» YAML åŠ è½½é…ç½®
            verbose=True
        )

    @agent
    def analyst(self) -> Agent:
        """åˆ›å»ºåˆ†æå¸ˆ Agent"""
        return Agent(
            config=self.agents_config['analyst'],
            verbose=True
        )

    @task
    def research_task(self) -> Task:
        """åˆ›å»ºç ”ç©¶ä»»åŠ¡"""
        return Task(
            config=self.tasks_config['research_task']
        )

    @task
    def analysis_task(self) -> Task:
        """åˆ›å»ºåˆ†æä»»åŠ¡"""
        return Task(
            config=self.tasks_config['analysis_task'],
            output_file='report.md'  # è¾“å‡ºåˆ°æ–‡ä»¶
        )

    @crew
    def crew(self) -> Crew:
        """ç»„è£… Crew"""
        return Crew(
            agents=self.agents,  # è‡ªåŠ¨æ”¶é›†æ‰€æœ‰ @agent è£…é¥°çš„æ–¹æ³•
            tasks=self.tasks,    # è‡ªåŠ¨æ”¶é›†æ‰€æœ‰ @task è£…é¥°çš„æ–¹æ³•
            process=Process.sequential,  # é¡ºåºæ‰§è¡Œ
            verbose=True
        )
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- `@CrewBase` è‡ªåŠ¨åŠ è½½ YAML é…ç½®
- `@agent`ã€`@task`ã€`@crew` è£…é¥°å™¨ç®€åŒ–ä»£ç 
- `self.agents_config` å’Œ `self.tasks_config` è‡ªåŠ¨å¯ç”¨

---

## ğŸ“ æ­¥éª¤ 5ï¼šåˆ›å»ºå…¥å£æ–‡ä»¶ï¼ˆmain.pyï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`src/my_research_crew/main.py`

```python
#!/usr/bin/env python
from my_research_crew.crew import MyResearchCrew

def run():
    """
    è¿è¡Œ Crew
    """
    # å®šä¹‰åŠ¨æ€è¾“å…¥å‚æ•°
    inputs = {
        'topic': 'AI Agents'  # è¿™ä¼šæ›¿æ¢ YAML ä¸­çš„ {topic}
    }

    # å¯åŠ¨ Crew
    result = MyResearchCrew().crew().kickoff(inputs=inputs)

    # æ‰“å°ç»“æœ
    print("\n\n=== æœ€ç»ˆç»“æœ ===")
    print(result.raw)

if __name__ == "__main__":
    run()
```

---

## ğŸ“ æ­¥éª¤ 6ï¼šé…ç½®ç¯å¢ƒå˜é‡ï¼ˆ.envï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`.env`

```bash
# OpenAI API Keyï¼ˆå¿…éœ€ï¼‰
OPENAI_API_KEY=sk-your-key-here

# å¦‚æœä½¿ç”¨æœç´¢å·¥å…·ï¼ˆå¯é€‰ï¼‰
SERPER_API_KEY=your-serper-key
```

---

## ğŸš€ è¿è¡Œç¨‹åº

```bash
# æ–¹å¼ 1ï¼šä½¿ç”¨ CrewAI CLI
crewai run

# æ–¹å¼ 2ï¼šç›´æ¥è¿è¡Œ Python
python src/my_research_crew/main.py
```

---

## ğŸ”„ æ‰§è¡Œæµç¨‹è¯¦è§£ï¼ˆSequential Processï¼‰

```
å¯åŠ¨ï¼šcrew.kickoff(inputs={'topic': 'AI Agents'})
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task 1: research_task                           â”‚
â”‚ - Agent: researcher                             â”‚
â”‚ - æ‰§è¡Œï¼šç ”ç©¶ AI Agents çš„ 5 ä¸ªè¶‹åŠ¿              â”‚
â”‚ - è¾“å‡ºï¼š5 ä¸ªè¦ç‚¹çš„åˆ—è¡¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“ï¼ˆTask 1 çš„è¾“å‡ºè‡ªåŠ¨ä¼ é€’ç»™ Task 2ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task 2: analysis_task                           â”‚
â”‚ - Agent: analyst                                â”‚
â”‚ - è¾“å…¥ï¼šTask 1 çš„è¾“å‡ºï¼ˆä¸Šä¸‹æ–‡ï¼‰                 â”‚
â”‚ - æ‰§è¡Œï¼šç”Ÿæˆåˆ†ææŠ¥å‘Š                            â”‚
â”‚ - è¾“å‡ºï¼šä¿å­˜åˆ° report.md                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
è¿”å›æœ€ç»ˆç»“æœï¼šCrewOutput å¯¹è±¡
```

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- **Sequential Process** æŒ‰é¡ºåºæ‰§è¡Œ Tasks
- æ¯ä¸ª Task çš„è¾“å‡ºä¼šè‡ªåŠ¨æˆä¸ºä¸‹ä¸€ä¸ª Task çš„ **ä¸Šä¸‹æ–‡**
- æœ€åä¸€ä¸ª Task çš„è¾“å‡ºå³ä¸ºæœ€ç»ˆç»“æœ

---

## ğŸ“Š å‚æ•°æ›¿æ¢æœºåˆ¶

**YAML ä¸­çš„å ä½ç¬¦**ï¼š
```yaml
researcher:
  role: "{topic} é¢†åŸŸçš„é«˜çº§ç ”ç©¶å‘˜"
```

**è¿è¡Œæ—¶ä¼ å…¥å‚æ•°**ï¼š
```python
inputs = {'topic': 'AI Agents'}
crew.kickoff(inputs=inputs)
```

**å®é™…æ‰§è¡Œæ—¶**ï¼š
```
role: "AI Agents é¢†åŸŸçš„é«˜çº§ç ”ç©¶å‘˜"
```

---

## ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜

**é—®é¢˜ 1ï¼ˆæµç¨‹ç†è§£ï¼‰**ï¼š
åœ¨ Sequential Process ä¸­ï¼Œå¦‚æœ Task 1 å¤±è´¥äº†ï¼ŒTask 2 è¿˜ä¼šæ‰§è¡Œå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**é—®é¢˜ 2ï¼ˆå‚æ•°ä¼ é€’ï¼‰**ï¼š
å¦‚æœä½ æƒ³è®©æ¯ä¸ª Task æ¥æ”¶ä¸åŒçš„å‚æ•°ï¼ˆæ¯”å¦‚ Task 1 ç”¨ {topic}ï¼ŒTask 2 ç”¨ {format}ï¼‰ï¼Œåº”è¯¥å¦‚ä½•ä¿®æ”¹ä»£ç ï¼Ÿ

**é—®é¢˜ 3ï¼ˆå®é™…åº”ç”¨ï¼‰**ï¼š
å‡è®¾ä½ è¦æ„å»ºä¸€ä¸ª"æ¯æ—¥æ–°é—»æ‘˜è¦"ç³»ç»Ÿï¼š
1. Task 1ï¼šæŠ“å–æ–°é—»ï¼ˆAgentï¼šæ–°é—»çˆ¬è™«ï¼‰
2. Task 2ï¼šæå–å…³é”®ä¿¡æ¯ï¼ˆAgentï¼šä¿¡æ¯æå–å™¨ï¼‰
3. Task 3ï¼šç”Ÿæˆæ‘˜è¦ï¼ˆAgentï¼šæ‘˜è¦ç”Ÿæˆå™¨ï¼‰

è¯·å†™å‡ºå¯¹åº”çš„ `agents.yaml` å’Œ `tasks.yaml`ï¼ˆä¼ªä»£ç å³å¯ï¼‰ã€‚

---

# ğŸ“˜ æ¨¡å— 3ï¼šå·¥å…·ç³»ç»Ÿ - èµ‹äºˆ Agent è¶…èƒ½åŠ›

## ğŸ¯ å­¦ä¹ ç›®æ ‡
ç†è§£å¦‚ä½•è®© Agents ä½¿ç”¨ **å¤–éƒ¨å·¥å…·** æ¥å¢å¼ºèƒ½åŠ›ï¼š
1. ä»€ä¹ˆæ˜¯ **Toolï¼ˆå·¥å…·ï¼‰**
2. å¦‚ä½•ä½¿ç”¨ **å†…ç½®å·¥å…·**ï¼ˆå¦‚æœç´¢å·¥å…·ï¼‰
3. å¦‚ä½•åˆ›å»º **è‡ªå®šä¹‰å·¥å…·**

---

## ğŸ”§ ä»€ä¹ˆæ˜¯ Toolï¼Ÿ

**å®šä¹‰**ï¼šTool æ˜¯ Agent å¯ä»¥è°ƒç”¨çš„ **å¤–éƒ¨åŠŸèƒ½**ï¼Œç”¨äºï¼š
- æœç´¢äº’è”ç½‘ï¼ˆ`SerperDevTool`ã€`BraveSearchTool`ï¼‰
- è¯»å–æ–‡ä»¶ï¼ˆ`FileReadTool`ï¼‰
- æ‰§è¡Œä»£ç ï¼ˆ`CodeInterpreterTool`ï¼‰
- è°ƒç”¨ APIï¼ˆè‡ªå®šä¹‰å·¥å…·ï¼‰

**ç±»æ¯”**ï¼š
- Agent æ˜¯"å‘˜å·¥"
- Tool æ˜¯"å·¥å…·ç®±"é‡Œçš„"å·¥å…·"ï¼ˆè®¡ç®—å™¨ã€æœç´¢å¼•æ“ã€æ•°æ®åº“ï¼‰

---

## ğŸ› ï¸ ä½¿ç”¨å†…ç½®å·¥å…·ï¼šSerperDevToolï¼ˆç½‘é¡µæœç´¢ï¼‰

### æ­¥éª¤ 1ï¼šå®‰è£…å·¥å…·åŒ…

```bash
pip install 'crewai[tools]'
```

### æ­¥éª¤ 2ï¼šè·å– API Key

è®¿é—® [Serper.dev](https://serper.dev/)ï¼Œæ³¨å†Œå¹¶è·å–å…è´¹ API Keyã€‚

åœ¨ `.env` ä¸­æ·»åŠ ï¼š
```bash
SERPER_API_KEY=your-serper-api-key-here
```

### æ­¥éª¤ 3ï¼šä¸º Agent é…ç½®å·¥å…·

**ä¿®æ”¹ `crew.py`**ï¼š

```python
from crewai import Agent, Crew, Process, Task
from crewai.project import CrewBase, agent, crew, task
from crewai_tools import SerperDevTool  # å¯¼å…¥æœç´¢å·¥å…·

@CrewBase
class MyResearchCrew:

    @agent
    def researcher(self) -> Agent:
        return Agent(
            config=self.agents_config['researcher'],
            verbose=True,
            tools=[SerperDevTool()]  # â† ä¸º Agent é…å¤‡æœç´¢å·¥å…·
        )

    @agent
    def analyst(self) -> Agent:
        return Agent(
            config=self.agents_config['analyst'],
            verbose=True
            # åˆ†æå¸ˆä¸éœ€è¦æœç´¢å·¥å…·ï¼Œæ‰€ä»¥ä¸é…ç½®
        )

    # ... å…¶ä»–ä»£ç ä¸å˜
```

---

## ğŸ” Tool çš„å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task: "ç ”ç©¶ 2025 å¹´ AI Agent æœ€æ–°è¶‹åŠ¿"           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent (researcher) åˆ†æä»»åŠ¡                      â”‚
â”‚ â†’ åˆ¤æ–­ï¼šéœ€è¦æœç´¢æœ€æ–°ä¿¡æ¯                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent è°ƒç”¨ Tool: SerperDevTool                   â”‚
â”‚ â†’ å‚æ•°ï¼šquery="AI Agent 2025 trends"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SerperDevTool æ‰§è¡Œæœç´¢                           â”‚
â”‚ â†’ è¿”å›ï¼šæœç´¢ç»“æœï¼ˆæ ‡é¢˜ã€æ‘˜è¦ã€é“¾æ¥ï¼‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent ä½¿ç”¨æœç´¢ç»“æœ                               â”‚
â”‚ â†’ ç”Ÿæˆæœ€ç»ˆè¾“å‡º                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- Agent ä¼š **è‡ªåŠ¨å†³å®š** ä½•æ—¶è°ƒç”¨å·¥å…·ï¼ˆåŸºäº LLM çš„æ¨ç†ï¼‰
- å·¥å…·çš„è¿”å›ç»“æœä¼šè¢« Agent ç”¨äºç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ

---

## ğŸ”¨ å¸¸ç”¨å†…ç½®å·¥å…·

| å·¥å…·åç§° | åŠŸèƒ½ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|
| `SerperDevTool` | Google æœç´¢ | éœ€è¦å®æ—¶ç½‘é¡µä¿¡æ¯ |
| `BraveSearchTool` | Brave æœç´¢ | æ›¿ä»£ Serper |
| `FileReadTool` | è¯»å–æœ¬åœ°æ–‡ä»¶ | åˆ†ææ–‡æ¡£ã€æ—¥å¿— |
| `WebsiteSearchTool` | æœç´¢ç‰¹å®šç½‘ç«™ | çˆ¬å–ä¼ä¸šå®˜ç½‘ |
| `CodeInterpreterTool` | æ‰§è¡Œ Python ä»£ç  | æ•°æ®åˆ†æã€è®¡ç®— |

---

## ğŸ› ï¸ åˆ›å»ºè‡ªå®šä¹‰å·¥å…·

**åœºæ™¯**ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå·¥å…·ï¼Œç”¨äº"è·å–å½“å‰æ—¶é—´"ã€‚

### æ–¹å¼ 1ï¼šä½¿ç”¨ `@tool` è£…é¥°å™¨ï¼ˆæ¨èï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`src/my_research_crew/tools/custom_tool.py`

```python
from crewai.tools import tool
from datetime import datetime

@tool("è·å–å½“å‰æ—¶é—´")
def get_current_time(format: str = "%Y-%m-%d %H:%M:%S") -> str:
    """
    è·å–å½“å‰æ—¶é—´ï¼Œå¹¶æŒ‰æŒ‡å®šæ ¼å¼è¿”å›ã€‚

    å‚æ•°ï¼š
        format: æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ï¼ˆé»˜è®¤ï¼šYYYY-MM-DD HH:MM:SSï¼‰

    è¿”å›ï¼š
        æ ¼å¼åŒ–çš„å½“å‰æ—¶é—´å­—ç¬¦ä¸²
    """
    return datetime.now().strftime(format)
```

**å…³é”®ç‚¹**ï¼š
- å‡½æ•°å `get_current_time` ä¼šæˆä¸ºå·¥å…·çš„æ ‡è¯†ç¬¦
- è£…é¥°å™¨å‚æ•° `"è·å–å½“å‰æ—¶é—´"` æ˜¯å·¥å…·çš„ **æ˜¾ç¤ºåç§°**
- **Docstring éå¸¸é‡è¦**ï¼šLLM ä¼šè¯»å–å®ƒæ¥ç†è§£å·¥å…·çš„ç”¨é€”
- å‚æ•°å¿…é¡»æœ‰ **ç±»å‹æ³¨è§£**

### æ–¹å¼ 2ï¼šç»§æ‰¿ `BaseTool` ç±»ï¼ˆé«˜çº§ï¼‰

```python
from crewai.tools import BaseTool
from datetime import datetime

class CurrentTimeTool(BaseTool):
    name: str = "è·å–å½“å‰æ—¶é—´"
    description: str = "è·å–å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œæ ¼å¼ä¸º YYYY-MM-DD HH:MM:SS"

    def _run(self, format: str = "%Y-%m-%d %H:%M:%S") -> str:
        """æ‰§è¡Œå·¥å…·çš„æ ¸å¿ƒé€»è¾‘"""
        return datetime.now().strftime(format)
```

---

### æ­¥éª¤ 3ï¼šåœ¨ Agent ä¸­ä½¿ç”¨è‡ªå®šä¹‰å·¥å…·

**ä¿®æ”¹ `crew.py`**ï¼š

```python
from crewai import Agent, Crew, Process, Task
from crewai.project import CrewBase, agent, crew, task
from my_research_crew.tools.custom_tool import get_current_time

@CrewBase
class MyResearchCrew:

    @agent
    def researcher(self) -> Agent:
        return Agent(
            config=self.agents_config['researcher'],
            verbose=True,
            tools=[get_current_time]  # â† ä½¿ç”¨è‡ªå®šä¹‰å·¥å…·
        )

    # ... å…¶ä»–ä»£ç 
```

---

## ğŸ“ ç¤ºä¾‹ï¼šå¸¦å·¥å…·çš„å®Œæ•´ä»»åŠ¡

**ä»»åŠ¡æè¿°**ï¼ˆ`tasks.yaml`ï¼‰ï¼š
```yaml
time_aware_task:
  description: >
    å‘Šè¯‰æˆ‘ç°åœ¨æ˜¯å‡ ç‚¹ï¼Œå¹¶æ ¹æ®æ—¶é—´é—®å€™æˆ‘ï¼ˆæ—©ä¸Š/ä¸‹åˆ/æ™šä¸Šï¼‰ã€‚
  expected_output: >
    ä¸€å¥é—®å€™è¯­ï¼ŒåŒ…å«å½“å‰æ—¶é—´
  agent: researcher
```

**æ‰§è¡Œè¿‡ç¨‹**ï¼š
1. Agent è¯»å–ä»»åŠ¡ â†’ "éœ€è¦çŸ¥é“å½“å‰æ—¶é—´"
2. Agent è°ƒç”¨ `get_current_time()` â†’ è·å– "2025-01-15 14:30:00"
3. Agent ç”Ÿæˆè¾“å‡º â†’ "ä¸‹åˆå¥½ï¼ç°åœ¨æ˜¯ 2025 å¹´ 1 æœˆ 15 æ—¥ 14:30ã€‚"

---

## ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜

**é—®é¢˜ 1ï¼ˆå·¥å…·ç†è§£ï¼‰**ï¼š
å¦‚æœä¸€ä¸ª Agent æœ‰ 3 ä¸ªå·¥å…·ï¼ˆæœç´¢ã€è¯»æ–‡ä»¶ã€æ‰§è¡Œä»£ç ï¼‰ï¼Œä½†ä»»åŠ¡åªéœ€è¦æœç´¢ï¼ŒAgent ä¼šè°ƒç”¨æ‰€æœ‰å·¥å…·å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**é—®é¢˜ 2ï¼ˆè‡ªå®šä¹‰å·¥å…·ï¼‰**ï¼š
åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å·¥å…· `calculate_bmi`ï¼Œç”¨äºè®¡ç®— BMIï¼ˆä½“é‡æŒ‡æ•°ï¼‰ã€‚
- è¾“å…¥ï¼šä½“é‡ï¼ˆkgï¼‰ã€èº«é«˜ï¼ˆmï¼‰
- è¾“å‡ºï¼šBMI å€¼ï¼ˆä¿ç•™ 2 ä½å°æ•°ï¼‰
- å…¬å¼ï¼šBMI = ä½“é‡ / (èº«é«˜Â²)

è¯·å†™å‡ºå·¥å…·çš„ä»£ç ï¼ˆä½¿ç”¨ `@tool` è£…é¥°å™¨ï¼‰ã€‚

**é—®é¢˜ 3ï¼ˆå®é™…åº”ç”¨ï¼‰**ï¼š
å‡è®¾ä½ è¦æ„å»ºä¸€ä¸ª"è‚¡ç¥¨åˆ†æç³»ç»Ÿ"ï¼Œéœ€è¦ä»¥ä¸‹å·¥å…·ï¼š
1. è·å–è‚¡ç¥¨å®æ—¶ä»·æ ¼
2. è·å–å†å²æ•°æ®
3. è®¡ç®—æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ï¼‰

è¯·è§„åˆ’ï¼šå“ªäº›å·¥å…·å¯ä»¥ç”¨å†…ç½®å·¥å…·ï¼Ÿå“ªäº›éœ€è¦è‡ªå®šä¹‰ï¼Ÿ

---

# ğŸ“˜ æ¨¡å— 4ï¼šFlow ç³»ç»Ÿ - äº‹ä»¶é©±åŠ¨çš„ç²¾ç¡®æ§åˆ¶

## ğŸ¯ å­¦ä¹ ç›®æ ‡
ç†è§£ crewAI çš„ç¬¬äºŒç§æ ¸å¿ƒæ¨¡å¼ - **Flowï¼ˆæµç¨‹ï¼‰**ï¼š
1. Flow ä¸ Crew çš„åŒºåˆ«
2. å¦‚ä½•ä½¿ç”¨ `@start`ã€`@listen`ã€`@router` è£…é¥°å™¨
3. å¦‚ä½•ç®¡ç† **çŠ¶æ€ï¼ˆStateï¼‰**

---

## ğŸ”„ Crew vs Flowï¼šä½•æ—¶ä½¿ç”¨å“ªä¸ªï¼Ÿ

| ç‰¹æ€§ | Crewï¼ˆå›¢é˜Ÿæ¨¡å¼ï¼‰ | Flowï¼ˆæµç¨‹æ¨¡å¼ï¼‰ |
|-----|----------------|----------------|
| **æ§åˆ¶ç²’åº¦** | ç²—ç²’åº¦ï¼ˆAgent è‡ªä¸»å†³ç­–ï¼‰ | ç»†ç²’åº¦ï¼ˆå¼€å‘è€…ç²¾ç¡®æ§åˆ¶ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | éœ€è¦ Agent è‡ªä¸»åä½œ | éœ€è¦ç²¾ç¡®çš„æ‰§è¡Œé¡ºåºå’Œæ¡ä»¶åˆ†æ”¯ |
| **çŠ¶æ€ç®¡ç†** | éšå¼ï¼ˆAgent é—´ä¼ é€’ï¼‰ | æ˜¾å¼ï¼ˆPydantic æ¨¡å‹ï¼‰ |
| **ç¤ºä¾‹** | ç ”ç©¶å›¢é˜Ÿã€å†…å®¹åˆ›ä½œ | æ•°æ®ç®¡é“ã€å®¡æ‰¹æµç¨‹ |

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- **Crew** = "è®© Agents è‡ªå·±å†³å®šæ€ä¹ˆåš"ï¼ˆé«˜è‡ªä¸»æ€§ï¼‰
- **Flow** = "æˆ‘æ¥å‘Šè¯‰ä½ æ¯ä¸€æ­¥æ€ä¹ˆåš"ï¼ˆé«˜å¯æ§æ€§ï¼‰
- **ä¸¤è€…å¯ä»¥ç»“åˆ**ï¼šFlow ä¸­å¯ä»¥åµŒå…¥ Crew

---

## ğŸ—ï¸ Flow çš„æ ¸å¿ƒæ¦‚å¿µ

### 1ï¸âƒ£ **Stateï¼ˆçŠ¶æ€ï¼‰** - æ•°æ®å®¹å™¨

Flow ä½¿ç”¨ **Pydantic æ¨¡å‹** æ¥å­˜å‚¨æµç¨‹çŠ¶æ€ï¼š

```python
from pydantic import BaseModel

class ArticleState(BaseModel):
    topic: str = ""          # æ–‡ç« ä¸»é¢˜
    outline: str = ""        # å¤§çº²
    draft: str = ""          # è‰ç¨¿
    final: str = ""          # æœ€ç»ˆç‰ˆæœ¬
    word_count: int = 0      # å­—æ•°ç»Ÿè®¡
```

**ä½œç”¨**ï¼š
- åœ¨ä¸åŒçš„æ–¹æ³•ï¼ˆæ­¥éª¤ï¼‰ä¹‹é—´å…±äº«æ•°æ®
- ç±»å‹å®‰å…¨ï¼ˆPydantic è‡ªåŠ¨éªŒè¯ï¼‰

---

### 2ï¸âƒ£ **è£…é¥°å™¨** - å®šä¹‰æ‰§è¡Œé¡ºåº

| è£…é¥°å™¨ | ä½œç”¨ | ç¤ºä¾‹ |
|-------|------|------|
| `@start()` | å®šä¹‰æµç¨‹çš„èµ·ç‚¹ | `@start()` |
| `@listen(func)` | ç›‘å¬æŸä¸ªæ–¹æ³•å®Œæˆåæ‰§è¡Œ | `@listen(step1)` |
| `@router(func)` | æ¡ä»¶åˆ†æ”¯ï¼ˆæ ¹æ®è¿”å›å€¼è·¯ç”±ï¼‰ | `@router(check)` |

---

## ğŸ“ ç¤ºä¾‹ 1ï¼šæœ€ç®€å•çš„ Flow

```python
from crewai.flow.flow import Flow, start, listen

class SimpleFlow(Flow):

    @start()
    def step1(self):
        print("æ‰§è¡Œæ­¥éª¤ 1")
        return "Step 1 å®Œæˆ"

    @listen(step1)
    def step2(self, data):
        print(f"æ‰§è¡Œæ­¥éª¤ 2ï¼Œæ”¶åˆ°æ•°æ®ï¼š{data}")
        return "Step 2 å®Œæˆ"

    @listen(step2)
    def step3(self, data):
        print(f"æ‰§è¡Œæ­¥éª¤ 3ï¼Œæ”¶åˆ°æ•°æ®ï¼š{data}")
        return "Flow å®Œæˆï¼"

# è¿è¡Œ
flow = SimpleFlow()
result = flow.kickoff()
print(result)
```

**è¾“å‡º**ï¼š
```
æ‰§è¡Œæ­¥éª¤ 1
æ‰§è¡Œæ­¥éª¤ 2ï¼Œæ”¶åˆ°æ•°æ®ï¼šStep 1 å®Œæˆ
æ‰§è¡Œæ­¥éª¤ 3ï¼Œæ”¶åˆ°æ•°æ®ï¼šStep 2 å®Œæˆ
Flow å®Œæˆï¼
```

**æ‰§è¡Œæµç¨‹**ï¼š
```
step1 (èµ·ç‚¹)
  â†“
step2 (ç›‘å¬ step1)
  â†“
step3 (ç›‘å¬ step2)
```

---

## ğŸ“ ç¤ºä¾‹ 2ï¼šå¸¦çŠ¶æ€ç®¡ç†çš„ Flow

```python
from crewai.flow.flow import Flow, start, listen
from pydantic import BaseModel

# å®šä¹‰çŠ¶æ€æ¨¡å‹
class CounterState(BaseModel):
    count: int = 0
    message: str = ""

class CounterFlow(Flow[CounterState]):

    @start()
    def initialize(self):
        """åˆå§‹åŒ–è®¡æ•°å™¨"""
        self.state.count = 0
        self.state.message = "è®¡æ•°å™¨å·²åˆå§‹åŒ–"
        print(f"åˆå§‹çŠ¶æ€ï¼šcount={self.state.count}")

    @listen(initialize)
    def increment(self):
        """é€’å¢è®¡æ•°å™¨"""
        self.state.count += 1
        print(f"é€’å¢åï¼šcount={self.state.count}")

    @listen(increment)
    def double(self):
        """å°†è®¡æ•°å™¨ç¿»å€"""
        self.state.count *= 2
        print(f"ç¿»å€åï¼šcount={self.state.count}")

    @listen(double)
    def finalize(self):
        """ç”Ÿæˆæœ€ç»ˆæ¶ˆæ¯"""
        self.state.message = f"æœ€ç»ˆè®¡æ•°ï¼š{self.state.count}"
        return self.state.message

# è¿è¡Œ
flow = CounterFlow()
result = flow.kickoff()
print(result)
```

**è¾“å‡º**ï¼š
```
åˆå§‹çŠ¶æ€ï¼šcount=0
é€’å¢åï¼šcount=1
ç¿»å€åï¼šcount=2
æœ€ç»ˆè®¡æ•°ï¼š2
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- `Flow[CounterState]` æŒ‡å®šçŠ¶æ€æ¨¡å‹
- é€šè¿‡ `self.state` è®¿é—®å’Œä¿®æ”¹çŠ¶æ€
- çŠ¶æ€åœ¨æ‰€æœ‰æ–¹æ³•é—´å…±äº«

---

## ğŸ“ ç¤ºä¾‹ 3ï¼šæ¡ä»¶åˆ†æ”¯ï¼ˆ@routerï¼‰

```python
from crewai.flow.flow import Flow, start, listen, router
from pydantic import BaseModel

class CheckState(BaseModel):
    score: int = 0

class ConditionalFlow(Flow[CheckState]):

    @start()
    def get_score(self):
        """è·å–åˆ†æ•°ï¼ˆæ¨¡æ‹Ÿï¼‰"""
        self.state.score = 85
        print(f"è·å¾—åˆ†æ•°ï¼š{self.state.score}")

    @router(get_score)
    def check_score(self):
        """æ ¹æ®åˆ†æ•°è·¯ç”±åˆ°ä¸åŒåˆ†æ”¯"""
        if self.state.score >= 90:
            return "excellent"
        elif self.state.score >= 60:
            return "pass"
        else:
            return "fail"

    @listen("excellent")
    def handle_excellent(self):
        print("ä¼˜ç§€ï¼å¥–åŠ± 100 é‡‘å¸")

    @listen("pass")
    def handle_pass(self):
        print("åŠæ ¼ï¼Œç»§ç»­åŠªåŠ›ï¼")

    @listen("fail")
    def handle_fail(self):
        print("ä¸åŠæ ¼ï¼Œéœ€è¦è¡¥è€ƒ")

# è¿è¡Œ
flow = ConditionalFlow()
flow.kickoff()
```

**è¾“å‡º**ï¼š
```
è·å¾—åˆ†æ•°ï¼š85
åŠæ ¼ï¼Œç»§ç»­åŠªåŠ›ï¼
```

**æ‰§è¡Œæµç¨‹**ï¼š
```
get_score()
  â†“
check_score() â†’ è¿”å› "pass"
  â†“
handle_pass()  (åªæ‰§è¡Œè¿™ä¸ªåˆ†æ”¯)
```

---

## ğŸ“ ç¤ºä¾‹ 4ï¼šFlow ä¸­åµŒå…¥ Crew

**åœºæ™¯**ï¼šä½¿ç”¨ Flow æ§åˆ¶æ‰§è¡Œé¡ºåºï¼Œä½†åœ¨æŸä¸ªæ­¥éª¤ä¸­å¯åŠ¨ Crewã€‚

```python
from crewai.flow.flow import Flow, start, listen
from crewai import Agent, Task, Crew, Process
from pydantic import BaseModel

class ResearchState(BaseModel):
    topic: str = ""
    research_result: str = ""
    summary: str = ""

class ResearchFlow(Flow[ResearchState]):

    @start()
    def set_topic(self):
        """æ­¥éª¤ 1ï¼šè®¾ç½®ç ”ç©¶ä¸»é¢˜"""
        self.state.topic = "AI Agents"
        print(f"ä¸»é¢˜å·²è®¾ç½®ï¼š{self.state.topic}")

    @listen(set_topic)
    def research_with_crew(self):
        """æ­¥éª¤ 2ï¼šä½¿ç”¨ Crew è¿›è¡Œç ”ç©¶"""
        # åˆ›å»º Agent
        researcher = Agent(
            role="ç ”ç©¶å‘˜",
            goal=f"ç ”ç©¶ {self.state.topic}",
            backstory="ä½ æ˜¯ä¸“ä¸šç ”ç©¶å‘˜",
            verbose=True
        )

        # åˆ›å»º Task
        task = Task(
            description=f"ç ”ç©¶ {self.state.topic} çš„ 3 ä¸ªå…³é”®ç‚¹",
            expected_output="3 ä¸ªè¦ç‚¹çš„åˆ—è¡¨",
            agent=researcher
        )

        # åˆ›å»º Crew
        crew = Crew(
            agents=[researcher],
            tasks=[task],
            process=Process.sequential
        )

        # æ‰§è¡Œ Crew
        result = crew.kickoff()
        self.state.research_result = result.raw
        print(f"ç ”ç©¶å®Œæˆï¼š{self.state.research_result[:100]}...")

    @listen(research_with_crew)
    def generate_summary(self):
        """æ­¥éª¤ 3ï¼šç”Ÿæˆæ‘˜è¦"""
        self.state.summary = f"å…³äº {self.state.topic} çš„ç ”ç©¶å·²å®Œæˆ"
        return self.state.summary

# è¿è¡Œ
flow = ResearchFlow()
result = flow.kickoff()
print(result)
```

**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- Flow æ§åˆ¶ **ä½•æ—¶** æ‰§è¡Œ Crew
- Crew è´Ÿè´£ **å¦‚ä½•** æ‰§è¡Œå…·ä½“ä»»åŠ¡
- Flow å’Œ Crew çš„ç»“æœå¯ä»¥é€šè¿‡ `state` ä¼ é€’

---

## ğŸ”„ å®Œæ•´æ‰§è¡Œæµç¨‹å›¾

```mermaid
graph TD
    A[@start - åˆå§‹åŒ–] --> B[@listen - æ•°æ®å¤„ç†]
    B --> C[@router - æ¡ä»¶åˆ¤æ–­]
    C -->|æ¡ä»¶1| D[@listen 'path1' - åˆ†æ”¯1]
    C -->|æ¡ä»¶2| E[@listen 'path2' - åˆ†æ”¯2]
    C -->|æ¡ä»¶3| F[@listen 'path3' - åˆ†æ”¯3]
    D --> G[ç»“æŸ]
    E --> G
    F --> G

    style A fill:#4ecdc4,color:#fff
    style C fill:#ff6b6b,color:#fff
    style G fill:#95e1d3,color:#333
```

---

## ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜

**é—®é¢˜ 1ï¼ˆæ¦‚å¿µç†è§£ï¼‰**ï¼š
ç”¨ä½ è‡ªå·±çš„è¯ï¼Œè§£é‡Š Flow çš„ `state` å’Œå‡½æ•°å‚æ•°ä¼ é€’æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**é—®é¢˜ 2ï¼ˆè·¯ç”±é€»è¾‘ï¼‰**ï¼š
å¦‚æœä¸€ä¸ª `@router` æ–¹æ³•è¿”å›äº† `"path_A"`ï¼Œä½†æ²¡æœ‰ä»»ä½•æ–¹æ³•ç”¨ `@listen("path_A")` ç›‘å¬ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

**é—®é¢˜ 3ï¼ˆå®é™…åº”ç”¨ï¼‰**ï¼š
è®¾è®¡ä¸€ä¸ª"è®¢å•å®¡æ‰¹æµç¨‹"Flowï¼š
1. æäº¤è®¢å•ï¼ˆé‡‘é¢ï¼‰
2. å¦‚æœé‡‘é¢ < 1000ï¼šè‡ªåŠ¨é€šè¿‡
3. å¦‚æœ 1000 <= é‡‘é¢ < 10000ï¼šç»ç†å®¡æ‰¹
4. å¦‚æœé‡‘é¢ >= 10000ï¼šæ€»ç›‘å®¡æ‰¹

è¯·å†™å‡ºçŠ¶æ€æ¨¡å‹å’Œè£…é¥°å™¨ç»“æ„ï¼ˆä¼ªä»£ç å³å¯ï¼‰ã€‚

---

# ğŸ“˜ æ¨¡å— 5ï¼šè®°å¿†ç³»ç»Ÿ - Agent å¦‚ä½•è®°ä½ä¸Šä¸‹æ–‡

## ğŸ¯ å­¦ä¹ ç›®æ ‡
ç†è§£ crewAI çš„ **è®°å¿†ç³»ç»Ÿ**ï¼Œè®© Agents èƒ½å¤Ÿ"è®°ä½"è¿‡å»çš„å¯¹è¯å’Œå†³ç­–ï¼š
1. **Short-Term Memoryï¼ˆçŸ­æœŸè®°å¿†ï¼‰** - å½“å‰ä»»åŠ¡çš„ä¸Šä¸‹æ–‡
2. **Long-Term Memoryï¼ˆé•¿æœŸè®°å¿†ï¼‰** - è·¨ä»»åŠ¡çš„ç»éªŒç§¯ç´¯
3. **Entity Memoryï¼ˆå®ä½“è®°å¿†ï¼‰** - å…³äºç‰¹å®šå®ä½“çš„çŸ¥è¯†

---

## ğŸ§  ä¸ºä»€ä¹ˆéœ€è¦è®°å¿†ï¼Ÿ

**æ— è®°å¿†çš„ Agent**ï¼š
```
ç”¨æˆ·ï¼šå¸®æˆ‘ç ”ç©¶ Python
Agentï¼šå¥½çš„ï¼Œç ”ç©¶å®Œæˆ

ç”¨æˆ·ï¼šå†ç ”ç©¶ä¸€ä¸‹å®ƒçš„æ¡†æ¶
Agentï¼šç ”ç©¶ä»€ä¹ˆçš„æ¡†æ¶ï¼Ÿï¼ˆå¿˜è®°äº†åˆšæ‰è¯´çš„æ˜¯ Pythonï¼‰
```

**æœ‰è®°å¿†çš„ Agent**ï¼š
```
ç”¨æˆ·ï¼šå¸®æˆ‘ç ”ç©¶ Python
Agentï¼šå¥½çš„ï¼Œç ”ç©¶å®Œæˆ

ç”¨æˆ·ï¼šå†ç ”ç©¶ä¸€ä¸‹å®ƒçš„æ¡†æ¶
Agentï¼šå¥½çš„ï¼Œæˆ‘çŸ¥é“ä½ æŒ‡çš„æ˜¯ Python çš„æ¡†æ¶ï¼ˆè®°å¾—ä¸Šä¸‹æ–‡ï¼‰
```

---

## ğŸ“š crewAI çš„ä¸‰ç§è®°å¿†ç±»å‹

```mermaid
graph LR
    A[Agent] --> B[Short-Term Memory<br/>çŸ­æœŸè®°å¿†]
    A --> C[Long-Term Memory<br/>é•¿æœŸè®°å¿†]
    A --> D[Entity Memory<br/>å®ä½“è®°å¿†]

    B --> B1[å½“å‰ä»»åŠ¡çš„å¯¹è¯å†å²]
    C --> C1[å†å²ä»»åŠ¡çš„æˆåŠŸç»éªŒ]
    D --> D1[å…³äºç‰¹å®šå®ä½“çš„äº‹å®]

    style B fill:#ffe66d,color:#333
    style C fill:#4ecdc4,color:#fff
    style D fill:#ff6b6b,color:#fff
```

---

## 1ï¸âƒ£ Short-Term Memoryï¼ˆçŸ­æœŸè®°å¿†ï¼‰

**å®šä¹‰**ï¼šå­˜å‚¨ **å½“å‰ä»»åŠ¡** ä¸­ Agent çš„å¯¹è¯å’Œä¸Šä¸‹æ–‡ã€‚

**ä½œç”¨**ï¼š
- Agent å¯ä»¥å¼•ç”¨ä¹‹å‰è¯´è¿‡çš„è¯
- å¤šä¸ª Agents å¯ä»¥å…±äº«å½“å‰ä»»åŠ¡çš„ä¸Šä¸‹æ–‡

**å¯ç”¨æ–¹å¼**ï¼š

```python
from crewai import Crew, Agent, Task, Process

crew = Crew(
    agents=[agent1, agent2],
    tasks=[task1, task2],
    memory=True,  # â† å¯ç”¨æ‰€æœ‰è®°å¿†ï¼ˆåŒ…æ‹¬çŸ­æœŸè®°å¿†ï¼‰
    verbose=True
)
```

**ç¤ºä¾‹**ï¼š
```python
# Task 1
task1 = Task(
    description="ç ”ç©¶ Python çš„å†å²",
    expected_output="ç®€çŸ­ä»‹ç»",
    agent=researcher
)

# Task 2ï¼ˆä¾èµ– Task 1 çš„ä¸Šä¸‹æ–‡ï¼‰
task2 = Task(
    description="åŸºäºåˆšæ‰çš„ç ”ç©¶ï¼Œåˆ—ä¸¾ Python çš„ 3 ä¸ªä¸»è¦åº”ç”¨é¢†åŸŸ",
    expected_output="3 ä¸ªé¢†åŸŸçš„åˆ—è¡¨",
    agent=researcher
)
```

**æ‰§è¡Œæ•ˆæœ**ï¼š
- Task 2 çš„ Agent å¯ä»¥"è®°ä½" Task 1 ä¸­ç ”ç©¶çš„å†…å®¹
- æ— éœ€é‡å¤ä¼ é€’æ•°æ®

---

## 2ï¸âƒ£ Long-Term Memoryï¼ˆé•¿æœŸè®°å¿†ï¼‰

**å®šä¹‰**ï¼šå­˜å‚¨ **å†å²ä»»åŠ¡** ä¸­çš„æˆåŠŸç»éªŒå’Œæ•™è®­ã€‚

**ä½œç”¨**ï¼š
- Agent å¯ä»¥ä»è¿‡å»çš„ä»»åŠ¡ä¸­å­¦ä¹ 
- é¿å…é‡å¤çŠ¯é”™

**ç¤ºä¾‹åœºæ™¯**ï¼š
```
ç¬¬ä¸€æ¬¡è¿è¡Œï¼š
Task: "æ‰¾å‡º 2023 å¹´æœ€å—æ¬¢è¿çš„ Python æ¡†æ¶"
Agent: ä½¿ç”¨æœç´¢å·¥å…· â†’ æ‰¾åˆ° Djangoã€Flaskã€FastAPI

ç¬¬äºŒæ¬¡è¿è¡Œï¼ˆæ–°ä¼šè¯ï¼‰ï¼š
Task: "Python æœ‰å“ªäº›æµè¡Œçš„ Web æ¡†æ¶ï¼Ÿ"
Agent: è®°å¾—ä¸Šæ¬¡çš„ç»“æœ â†’ ç›´æ¥å¼•ç”¨ Djangoã€Flaskã€FastAPI
```

**å¯ç”¨æ–¹å¼**ï¼š

```python
crew = Crew(
    agents=[agent],
    tasks=[task],
    memory=True,  # â† è‡ªåŠ¨åŒ…å«é•¿æœŸè®°å¿†
    verbose=True
)
```

**å­˜å‚¨ä½ç½®**ï¼š
- é»˜è®¤å­˜å‚¨åœ¨æœ¬åœ°æ•°æ®åº“ï¼ˆSQLiteï¼‰
- è·¯å¾„ï¼š`~/.crewai/memory/`

---

## 3ï¸âƒ£ Entity Memoryï¼ˆå®ä½“è®°å¿†ï¼‰

**å®šä¹‰**ï¼šå­˜å‚¨å…³äº **ç‰¹å®šå®ä½“**ï¼ˆäººã€å…¬å¸ã€äº§å“ç­‰ï¼‰çš„çŸ¥è¯†ã€‚

**ä½œç”¨**ï¼š
- Agent å¯ä»¥è®°ä½"å¼ ä¸‰æ˜¯å·¥ç¨‹å¸ˆ"ã€"OpenAI å¼€å‘äº† ChatGPT"
- è·¨ä»»åŠ¡å¤ç”¨å®ä½“çŸ¥è¯†

**ç¤ºä¾‹**ï¼š
```
Task 1: "ä»‹ç»ä¸€ä¸‹ Elon Musk"
Agent: å­¦ä¹ åˆ° â†’ "Elon Musk æ˜¯ Tesla å’Œ SpaceX çš„ CEO"

Task 2: "Tesla çš„ CEO æ˜¯è°ï¼Ÿ"
Agent: ä»å®ä½“è®°å¿†ä¸­å›å¿† â†’ "Elon Musk"
```

**å¯ç”¨æ–¹å¼**ï¼š

```python
crew = Crew(
    agents=[agent],
    tasks=[task],
    memory=True,  # â† åŒ…å«å®ä½“è®°å¿†
    verbose=True
)
```

---

## ğŸ“ å®Œæ•´ç¤ºä¾‹ï¼šå¯ç”¨è®°å¿†çš„ Crew

```python
from crewai import Agent, Task, Crew, Process

# åˆ›å»º Agent
researcher = Agent(
    role="ç ”ç©¶å‘˜",
    goal="è¿›è¡Œæ·±å…¥ç ”ç©¶",
    backstory="ä½ æ˜¯ä¸“ä¸šç ”ç©¶å‘˜ï¼Œå–„äºä»å†å²ç»éªŒä¸­å­¦ä¹ ",
    verbose=True
)

# Task 1
task1 = Task(
    description="ç ”ç©¶ AI Agent çš„å®šä¹‰",
    expected_output="ç®€çŸ­å®šä¹‰",
    agent=researcher
)

# Task 2ï¼ˆä¼šåˆ©ç”¨ Task 1 çš„çŸ­æœŸè®°å¿†ï¼‰
task2 = Task(
    description="åŸºäºåˆšæ‰çš„å®šä¹‰ï¼Œä¸¾ 3 ä¸ª AI Agent çš„å®é™…åº”ç”¨æ¡ˆä¾‹",
    expected_output="3 ä¸ªæ¡ˆä¾‹",
    agent=researcher
)

# åˆ›å»º Crewï¼ˆå¯ç”¨è®°å¿†ï¼‰
crew = Crew(
    agents=[researcher],
    tasks=[task1, task2],
    process=Process.sequential,
    memory=True,  # â† å…³é”®ï¼šå¯ç”¨è®°å¿†
    verbose=True
)

# æ‰§è¡Œ
result = crew.kickoff()
print(result.raw)
```

**æ‰§è¡Œæ•ˆæœ**ï¼š
- Task 2 çš„ Agent å¯ä»¥ç›´æ¥å¼•ç”¨ Task 1 ä¸­çš„"AI Agent å®šä¹‰"
- æ— éœ€é‡å¤ç ”ç©¶

---

## ğŸ”§ é«˜çº§ï¼šè‡ªå®šä¹‰è®°å¿†é…ç½®

**å®Œå…¨æ§åˆ¶è®°å¿†ç»„ä»¶**ï¼š

```python
from crewai.memory.short_term.short_term_memory import ShortTermMemory
from crewai.memory.long_term.long_term_memory import LongTermMemory
from crewai.memory.entity.entity_memory import EntityMemory

crew = Crew(
    agents=[agent],
    tasks=[task],
    memory=True,
    short_term_memory=ShortTermMemory(),  # è‡ªå®šä¹‰çŸ­æœŸè®°å¿†
    long_term_memory=LongTermMemory(),    # è‡ªå®šä¹‰é•¿æœŸè®°å¿†
    entity_memory=EntityMemory(),         # è‡ªå®šä¹‰å®ä½“è®°å¿†
    verbose=True
)
```

---

## ğŸ“Š è®°å¿†ç³»ç»Ÿå¯¹æ¯”

| è®°å¿†ç±»å‹ | èŒƒå›´ | æŒä¹…åŒ– | ä½¿ç”¨åœºæ™¯ |
|---------|------|--------|---------|
| **Short-Term** | å½“å‰ä»»åŠ¡ | âŒ ä»»åŠ¡ç»“æŸåæ¸…é™¤ | ä»»åŠ¡é—´ä¸Šä¸‹æ–‡ä¼ é€’ |
| **Long-Term** | è·¨ä»»åŠ¡ | âœ… æ°¸ä¹…å­˜å‚¨ | å­¦ä¹ å†å²ç»éªŒ |
| **Entity** | è·¨ä»»åŠ¡ | âœ… æ°¸ä¹…å­˜å‚¨ | è®°ä½ç‰¹å®šå®ä½“çš„çŸ¥è¯† |

---

## ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜

**é—®é¢˜ 1ï¼ˆè®°å¿†ç±»å‹ï¼‰**ï¼š
å¦‚æœä½ å¸Œæœ› Agent åœ¨æ¯æ¬¡å¯åŠ¨æ—¶éƒ½"å¿˜è®°"ä¹‹å‰çš„æ‰€æœ‰å¯¹è¯ï¼Œåº”è¯¥å¯ç”¨å“ªç§è®°å¿†ï¼Ÿ

**é—®é¢˜ 2ï¼ˆå®é™…åº”ç”¨ï¼‰**ï¼š
å‡è®¾ä½ æ„å»ºä¸€ä¸ª"å®¢æˆ·æœåŠ¡ Agent"ï¼Œéœ€è¦è®°ä½ï¼š
- å½“å‰å¯¹è¯ä¸­å®¢æˆ·è¯´äº†ä»€ä¹ˆï¼ˆçŸ­æœŸï¼‰
- å®¢æˆ·çš„å†å²è®¢å•è®°å½•ï¼ˆé•¿æœŸï¼‰
- å®¢æˆ·çš„å§“åã€åœ°å€ç­‰ä¿¡æ¯ï¼ˆå®ä½“ï¼‰

è¯·è®¾è®¡è®°å¿†ç­–ç•¥ï¼šå“ªäº›ä¿¡æ¯ç”¨å“ªç§è®°å¿†ï¼Ÿ

**é—®é¢˜ 3ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰**ï¼š
å¦‚æœä¸€ä¸ª Crew æœ‰ 100 ä¸ªå†å²ä»»åŠ¡è®°å½•ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶åŠ è½½æ‰€æœ‰é•¿æœŸè®°å¿†å¯èƒ½å¾ˆæ…¢ã€‚ä½ ä¼šå¦‚ä½•ä¼˜åŒ–ï¼Ÿ

---

# ğŸ“˜ æ¨¡å— 6ï¼šé«˜çº§ç‰¹æ€§ï¼ˆHierarchical Processã€Knowledgeã€è¾“å‡ºæ ¼å¼ï¼‰

## ğŸ¯ å­¦ä¹ ç›®æ ‡
æŒæ¡ crewAI çš„é«˜çº§åŠŸèƒ½ï¼š
1. **Hierarchical Processï¼ˆå±‚çº§æµç¨‹ï¼‰** - è‡ªåŠ¨åˆ†é…ç®¡ç†è€…
2. **Knowledgeï¼ˆçŸ¥è¯†åº“ï¼‰** - ä¸º Agents æä¾›é¢†åŸŸçŸ¥è¯†
3. **Structured Outputï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰** - ä½¿ç”¨ Pydantic æ¨¡å‹å®šä¹‰è¾“å‡ºæ ¼å¼

---

## 1ï¸âƒ£ Hierarchical Processï¼ˆå±‚çº§æµç¨‹ï¼‰

### ğŸ¯ ä»€ä¹ˆæ˜¯å±‚çº§æµç¨‹ï¼Ÿ

**å¯¹æ¯”**ï¼š

| Process ç±»å‹ | æ‰§è¡Œæ–¹å¼ | é€‚ç”¨åœºæ™¯ |
|------------|---------|---------|
| **Sequential** | æŒ‰é¡ºåºæ‰§è¡Œ Task | ç®€å•çš„çº¿æ€§å·¥ä½œæµ |
| **Hierarchical** | è‡ªåŠ¨åˆ†é…"ç»ç†" Agent æ¥åè°ƒå…¶ä»– Agents | å¤æ‚çš„å¤š Agent åä½œ |

**å±‚çº§æµç¨‹çš„ç‰¹ç‚¹**ï¼š
- crewAI ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª **Manager Agentï¼ˆç»ç†ï¼‰**
- Manager è´Ÿè´£ï¼š
  - å°†ä»»åŠ¡åˆ†é…ç»™åˆé€‚çš„ Agent
  - ç›‘ç£æ‰§è¡Œè¿›åº¦
  - æ•´åˆæœ€ç»ˆç»“æœ

---

### ğŸ“ ç¤ºä¾‹ï¼šå±‚çº§æµç¨‹

```python
from crewai import Agent, Task, Crew, Process

# åˆ›å»ºä¸“ä¸š Agentsï¼ˆä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š managerï¼‰
researcher = Agent(
    role="ç ”ç©¶å‘˜",
    goal="æ”¶é›†æ•°æ®",
    backstory="ä½ æ“…é•¿ä¿¡æ¯æ”¶é›†",
    allow_delegation=False  # ä¸å…è®¸å§”æ´¾ï¼ˆç”± manager ç»Ÿä¸€è°ƒåº¦ï¼‰
)

analyst = Agent(
    role="æ•°æ®åˆ†æå¸ˆ",
    goal="åˆ†ææ•°æ®",
    backstory="ä½ æ“…é•¿æ•°æ®åˆ†æ",
    allow_delegation=False
)

writer = Agent(
    role="æ’°ç¨¿äºº",
    goal="æ’°å†™æŠ¥å‘Š",
    backstory="ä½ æ“…é•¿å†™ä½œ",
    allow_delegation=False
)

# åˆ›å»º Tasksï¼ˆä¸æŒ‡å®š agentï¼Œç”± manager è‡ªåŠ¨åˆ†é…ï¼‰
task1 = Task(
    description="ç ”ç©¶ AI Agent çš„æœ€æ–°è¶‹åŠ¿",
    expected_output="è¶‹åŠ¿åˆ—è¡¨"
    # æ³¨æ„ï¼šæ²¡æœ‰ agent=... å‚æ•°
)

task2 = Task(
    description="åˆ†æè¿™äº›è¶‹åŠ¿çš„å•†ä¸šä»·å€¼",
    expected_output="å•†ä¸šä»·å€¼åˆ†æ"
)

task3 = Task(
    description="æ’°å†™ä¸€ä»½ç»¼åˆæŠ¥å‘Š",
    expected_output="å®Œæ•´æŠ¥å‘Š"
)

# åˆ›å»º Crewï¼ˆä½¿ç”¨å±‚çº§æµç¨‹ï¼‰
crew = Crew(
    agents=[researcher, analyst, writer],
    tasks=[task1, task2, task3],
    process=Process.hierarchical,  # â† å…³é”®ï¼šå±‚çº§æµç¨‹
    verbose=True
)

# æ‰§è¡Œ
result = crew.kickoff()
```

**æ‰§è¡Œæµç¨‹**ï¼š
```
1. Manager åˆ†æ task1 â†’ åˆ†é…ç»™ researcher
2. researcher å®Œæˆ task1
3. Manager åˆ†æ task2 â†’ åˆ†é…ç»™ analyst
4. analyst å®Œæˆ task2
5. Manager åˆ†æ task3 â†’ åˆ†é…ç»™ writer
6. writer å®Œæˆ task3
7. Manager æ•´åˆç»“æœ â†’ è¿”å›æœ€ç»ˆè¾“å‡º
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- Tasks ä¸éœ€è¦æŒ‡å®š `agent`
- Manager ä¼šæ ¹æ® Agents çš„ `role`ã€`goal`ã€`backstory` è‡ªåŠ¨åŒ¹é…
- é€‚åˆå¤æ‚çš„å¤šè§’è‰²åä½œåœºæ™¯

---

## 2ï¸âƒ£ Knowledgeï¼ˆçŸ¥è¯†åº“ï¼‰

### ğŸ¯ ä»€ä¹ˆæ˜¯çŸ¥è¯†åº“ï¼Ÿ

**é—®é¢˜**ï¼šAgent é»˜è®¤åªçŸ¥é“ LLM è®­ç»ƒæ•°æ®ä¸­çš„å†…å®¹ï¼Œå¦‚ä½•è®©å®ƒäº†è§£ï¼š
- å…¬å¸å†…éƒ¨æ–‡æ¡£
- äº§å“æ‰‹å†Œ
- é¢†åŸŸä¸“ä¸šçŸ¥è¯†

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ **Knowledge** ç»„ä»¶ï¼Œå°†æ–‡æ¡£"æ³¨å…¥"åˆ° Agent çš„ä¸Šä¸‹æ–‡ä¸­ã€‚

---

### ğŸ“ ç¤ºä¾‹ï¼šä»æ–‡æœ¬åˆ›å»ºçŸ¥è¯†åº“

```python
from crewai import Agent, Task, Crew, Process
from crewai.knowledge.knowledge import Knowledge

# åˆ›å»ºçŸ¥è¯†åº“
company_knowledge = Knowledge(
    sources=[
        "æˆ‘ä»¬å…¬å¸æˆç«‹äº 2020 å¹´ï¼Œä¸“æ³¨äº AI è§£å†³æ–¹æ¡ˆã€‚",
        "æˆ‘ä»¬çš„æ——èˆ°äº§å“æ˜¯ CrewAIï¼Œä¸€ä¸ªå¤šæ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶ã€‚",
        "æˆ‘ä»¬çš„å®¢æˆ·åŒ…æ‹¬ 500 å¼ºä¼ä¸šå’Œåˆåˆ›å…¬å¸ã€‚"
    ]
)

# ä¸º Agent é…ç½®çŸ¥è¯†åº“
sales_agent = Agent(
    role="é”€å”®ä»£è¡¨",
    goal="ä»‹ç»å…¬å¸äº§å“",
    backstory="ä½ æ˜¯ä¸“ä¸šé”€å”®",
    knowledge_sources=[company_knowledge],  # â† æ³¨å…¥çŸ¥è¯†
    verbose=True
)

# åˆ›å»ºä»»åŠ¡
task = Task(
    description="ä»‹ç»æˆ‘ä»¬å…¬å¸å’Œäº§å“",
    expected_output="ç®€çŸ­ä»‹ç»",
    agent=sales_agent
)

# æ‰§è¡Œ
crew = Crew(
    agents=[sales_agent],
    tasks=[task],
    process=Process.sequential
)

result = crew.kickoff()
print(result.raw)
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æˆ‘ä»¬å…¬å¸æˆç«‹äº 2020 å¹´ï¼Œä¸“æ³¨äº AI è§£å†³æ–¹æ¡ˆã€‚
æˆ‘ä»¬çš„æ——èˆ°äº§å“ CrewAI æ˜¯ä¸€ä¸ªå¤šæ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶ï¼Œ
å·²è¢« 500 å¼ºä¼ä¸šå’Œä¼—å¤šåˆåˆ›å…¬å¸é‡‡ç”¨ã€‚
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- Agent ä¼šè‡ªåŠ¨ä½¿ç”¨çŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯
- çŸ¥è¯†ä¼˜å…ˆçº§é«˜äº LLM çš„é€šç”¨çŸ¥è¯†

---

### ğŸ“ ç¤ºä¾‹ï¼šä»æ–‡ä»¶åˆ›å»ºçŸ¥è¯†åº“

```python
from crewai.knowledge.source.text_file_knowledge_source import TextFileKnowledgeSource

# ä»æ–‡ä»¶åŠ è½½çŸ¥è¯†
knowledge = Knowledge(
    sources=[
        TextFileKnowledgeSource(file_path="./docs/product_guide.txt"),
        TextFileKnowledgeSource(file_path="./docs/faq.txt")
    ]
)

agent = Agent(
    role="å®¢æœä»£è¡¨",
    goal="å›ç­”äº§å“é—®é¢˜",
    backstory="ä½ ç†Ÿæ‚‰äº§å“æ–‡æ¡£",
    knowledge_sources=[knowledge]
)
```

---

## 3ï¸âƒ£ Structured Outputï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰

### ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦ç»“æ„åŒ–è¾“å‡ºï¼Ÿ

**é—®é¢˜**ï¼šAgent çš„è¾“å‡ºæ˜¯è‡ªç”±æ–‡æœ¬ï¼Œéš¾ä»¥è§£æï¼š
```
è¾“å‡ºï¼šæˆ‘æ‰¾åˆ°äº† 3 ä¸ªè¶‹åŠ¿ï¼šAI Agentã€å¤šæ¨¡æ€ã€è¾¹ç¼˜è®¡ç®—...
è§£æï¼šå¦‚ä½•æå–"AI Agent"ã€"å¤šæ¨¡æ€"ã€"è¾¹ç¼˜è®¡ç®—"ï¼Ÿ
```

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ **Pydantic æ¨¡å‹** å®šä¹‰è¾“å‡ºæ ¼å¼ã€‚

---

### ğŸ“ ç¤ºä¾‹ï¼šå®šä¹‰è¾“å‡ºæ ¼å¼

```python
from crewai import Agent, Task, Crew, Process
from pydantic import BaseModel

# å®šä¹‰è¾“å‡ºæ ¼å¼
class TrendReport(BaseModel):
    trends: list[str]  # è¶‹åŠ¿åˆ—è¡¨
    summary: str       # æ‘˜è¦
    confidence: float  # ç½®ä¿¡åº¦ï¼ˆ0-1ï¼‰

# åˆ›å»º Agent
researcher = Agent(
    role="ç ”ç©¶å‘˜",
    goal="ç ”ç©¶è¶‹åŠ¿",
    backstory="ä½ æ˜¯ä¸“ä¸šç ”ç©¶å‘˜"
)

# åˆ›å»º Taskï¼ˆæŒ‡å®šè¾“å‡ºæ ¼å¼ï¼‰
task = Task(
    description="ç ”ç©¶ AI Agent çš„ 3 ä¸ªæœ€æ–°è¶‹åŠ¿",
    expected_output="ç»“æ„åŒ–çš„è¶‹åŠ¿æŠ¥å‘Š",
    agent=researcher,
    output_pydantic=TrendReport  # â† æŒ‡å®šè¾“å‡ºæ ¼å¼
)

# æ‰§è¡Œ
crew = Crew(
    agents=[researcher],
    tasks=[task],
    process=Process.sequential
)

result = crew.kickoff()

# è®¿é—®ç»“æ„åŒ–æ•°æ®
print(result.pydantic.trends)      # ['AI Agent', 'å¤šæ¨¡æ€', 'è¾¹ç¼˜è®¡ç®—']
print(result.pydantic.summary)     # '2025 å¹´ AI é¢†åŸŸçš„ä¸»è¦è¶‹åŠ¿...'
print(result.pydantic.confidence)  # 0.85
```

**ğŸ”‘ å…³é”®ç‚¹**ï¼š
- `output_pydantic=TrendReport` å¼ºåˆ¶ Agent è¾“å‡ºç¬¦åˆè¯¥æ¨¡å‹çš„ JSON
- `result.pydantic` è¿”å› Pydantic å¯¹è±¡ï¼ˆç±»å‹å®‰å…¨ï¼‰
- é€‚åˆéœ€è¦åç»­å¤„ç†çš„åœºæ™¯ï¼ˆå¦‚å­˜å…¥æ•°æ®åº“ï¼‰

---

### ğŸ“ ç¤ºä¾‹ï¼šåµŒå¥—çš„å¤æ‚æ ¼å¼

```python
from pydantic import BaseModel

class Article(BaseModel):
    title: str
    content: str
    word_count: int

class Author(BaseModel):
    name: str
    email: str

class BlogPost(BaseModel):
    article: Article
    author: Author
    tags: list[str]
    published: bool

# ä½¿ç”¨
task = Task(
    description="æ’°å†™ä¸€ç¯‡å…³äº AI çš„åšå®¢",
    expected_output="å®Œæ•´çš„åšå®¢æ–‡ç« ",
    agent=writer,
    output_pydantic=BlogPost
)
```

---

## ğŸ”„ ç»¼åˆç¤ºä¾‹ï¼šæ‰€æœ‰é«˜çº§ç‰¹æ€§ç»“åˆ

```python
from crewai import Agent, Task, Crew, Process
from crewai.knowledge.knowledge import Knowledge
from pydantic import BaseModel

# 1. å®šä¹‰è¾“å‡ºæ ¼å¼
class ResearchReport(BaseModel):
    findings: list[str]
    recommendations: str

# 2. åˆ›å»ºçŸ¥è¯†åº“
domain_knowledge = Knowledge(
    sources=["AI Agent æ˜¯ä¸€ç§è‡ªä¸»å†³ç­–çš„æ™ºèƒ½ç³»ç»Ÿ..."]
)

# 3. åˆ›å»º Agents
researcher = Agent(
    role="ç ”ç©¶å‘˜",
    goal="ç ”ç©¶ AI Agent",
    backstory="ä½ æ˜¯ä¸“å®¶",
    knowledge_sources=[domain_knowledge]  # æ³¨å…¥çŸ¥è¯†
)

analyst = Agent(
    role="åˆ†æå¸ˆ",
    goal="åˆ†ææ•°æ®",
    backstory="ä½ æ“…é•¿åˆ†æ"
)

# 4. åˆ›å»º Tasks
task1 = Task(
    description="ç ”ç©¶ AI Agent çš„ 3 ä¸ªåº”ç”¨åœºæ™¯",
    expected_output="åº”ç”¨åœºæ™¯åˆ—è¡¨"
)

task2 = Task(
    description="åŸºäºç ”ç©¶ç”ŸæˆæŠ¥å‘Š",
    expected_output="ç»“æ„åŒ–æŠ¥å‘Š",
    output_pydantic=ResearchReport  # ç»“æ„åŒ–è¾“å‡º
)

# 5. åˆ›å»º Crewï¼ˆå±‚çº§æµç¨‹ + è®°å¿† + çŸ¥è¯†ï¼‰
crew = Crew(
    agents=[researcher, analyst],
    tasks=[task1, task2],
    process=Process.hierarchical,  # å±‚çº§æµç¨‹
    memory=True,                   # å¯ç”¨è®°å¿†
    verbose=True
)

# 6. æ‰§è¡Œ
result = crew.kickoff()
print(result.pydantic.findings)
print(result.pydantic.recommendations)
```

---

## ğŸ§  çŸ¥è¯†æå–æŒ‘æˆ˜

**é—®é¢˜ 1ï¼ˆå±‚çº§æµç¨‹ï¼‰**ï¼š
åœ¨å±‚çº§æµç¨‹ä¸­ï¼Œå¦‚æœæ‰€æœ‰ Agents çš„ `role` éƒ½æ˜¯"é€šç”¨åŠ©æ‰‹"ï¼ŒManager å¦‚ä½•åˆ†é…ä»»åŠ¡ï¼Ÿ

**é—®é¢˜ 2ï¼ˆçŸ¥è¯†åº“ï¼‰**ï¼š
å¦‚æœçŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯ä¸ LLM çš„è®­ç»ƒæ•°æ®å†²çªï¼ˆå¦‚"åœ°çƒæ˜¯æ–¹çš„"ï¼‰ï¼ŒAgent ä¼šç›¸ä¿¡å“ªä¸ªï¼Ÿ

**é—®é¢˜ 3ï¼ˆå®é™…åº”ç”¨ï¼‰**ï¼š
è®¾è®¡ä¸€ä¸ª"è´¢åŠ¡æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ"ï¼š
- éœ€è¦ä»æ•°æ®åº“è¯»å–è´¢åŠ¡æ•°æ®
- ç”ŸæˆåŒ…å«"æ”¶å…¥"ã€"æ”¯å‡º"ã€"åˆ©æ¶¦"å­—æ®µçš„ç»“æ„åŒ–æŠ¥å‘Š
- ä½¿ç”¨å±‚çº§æµç¨‹åè°ƒ"æ•°æ®åˆ†æå¸ˆ"å’Œ"æŠ¥å‘Šæ’°å†™è€…"

è¯·å†™å‡º Pydantic æ¨¡å‹å’Œ Crew é…ç½®ï¼ˆä¼ªä»£ç ï¼‰ã€‚

---

## ğŸ“Š æ¨¡å— 6 æ€»ç»“

| ç‰¹æ€§ | ä½œç”¨ | å…³é”®ä»£ç  |
|-----|------|---------|
| **Hierarchical Process** | è‡ªåŠ¨ä»»åŠ¡åˆ†é… | `process=Process.hierarchical` |
| **Knowledge** | æ³¨å…¥é¢†åŸŸçŸ¥è¯† | `knowledge_sources=[...]` |
| **Structured Output** | ç±»å‹å®‰å…¨çš„è¾“å‡º | `output_pydantic=Model` |

---

# ğŸ“ ç»¼åˆå®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§ Multi-Agent ç³»ç»Ÿ

## ğŸ¯ æœ€ç»ˆé¡¹ç›®ï¼šæ™ºèƒ½ç ”æŠ¥ç”Ÿæˆç³»ç»Ÿ

**éœ€æ±‚**ï¼š
1. ç”¨æˆ·è¾“å…¥ä¸»é¢˜ï¼ˆå¦‚"AI Agent"ï¼‰
2. ç³»ç»Ÿè‡ªåŠ¨ï¼š
   - æœç´¢æœ€æ–°èµ„æ–™
   - åˆ†æè¶‹åŠ¿
   - ç”Ÿæˆç»“æ„åŒ–æŠ¥å‘Šï¼ˆJSONï¼‰
   - ä¿å­˜ä¸º Markdown æ–‡ä»¶

**æŠ€æœ¯æ ˆ**ï¼š
- âœ… Sequential + Hierarchical Process
- âœ… Toolsï¼ˆæœç´¢å·¥å…·ï¼‰
- âœ… Memoryï¼ˆè®°ä½ç ”ç©¶ä¸Šä¸‹æ–‡ï¼‰
- âœ… Structured Outputï¼ˆPydantic æ¨¡å‹ï¼‰
- âœ… Knowledgeï¼ˆé¢†åŸŸçŸ¥è¯†ï¼‰

**æŒ‘æˆ˜**ï¼šè¯·åŸºäºå‰ 6 ä¸ªæ¨¡å—çš„çŸ¥è¯†ï¼Œè‡ªå·±è®¾è®¡å¹¶å®ç°è¿™ä¸ªç³»ç»Ÿï¼

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**å½“å‰çŠ¶æ€**ï¼šâœ… æ‰€æœ‰åŸºç¡€æ¨¡å—å·²å®Œæˆ

**å»ºè®®å­¦ä¹ è·¯å¾„**ï¼š
1. ä»å¤´åˆ°å°¾è¿è¡Œä¸€é"æ¨¡å— 2"çš„ç¤ºä¾‹ä»£ç 
2. ä¿®æ”¹"æ¨¡å— 3"çš„å·¥å…·ï¼Œæ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½
3. å°è¯•"æ¨¡å— 4"çš„ Flow ç¤ºä¾‹ï¼Œç†è§£è·¯ç”±é€»è¾‘
4. å¯ç”¨"æ¨¡å— 5"çš„è®°å¿†åŠŸèƒ½ï¼Œè§‚å¯Ÿæ•ˆæœ
5. æŒ‘æˆ˜"æ¨¡å— 6"çš„ç»¼åˆå®æˆ˜é¡¹ç›®

**èµ„æº**ï¼š
- å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.crewai.com
- ç¤ºä¾‹åº“ï¼šhttps://github.com/crewAIInc/crewAI-examples
- ç¤¾åŒºè®ºå›ï¼šhttps://community.crewai.com

---

## ğŸ“ å­¦ä¹ åæ€è¡¨ï¼ˆå»ºè®®å¡«å†™ï¼‰

| æ¨¡å— | ç†è§£ç¨‹åº¦ï¼ˆ1-5ï¼‰ | éœ€è¦å¤ä¹ çš„ç‚¹ | å®è·µè¿›åº¦ |
|-----|----------------|-------------|---------|
| æ¨¡å— 1 | â˜â˜â˜â˜â˜ |  | â˜ æœªå¼€å§‹ â˜ è¿›è¡Œä¸­ â˜ å®Œæˆ |
| æ¨¡å— 2 | â˜â˜â˜â˜â˜ |  | â˜ æœªå¼€å§‹ â˜ è¿›è¡Œä¸­ â˜ å®Œæˆ |
| æ¨¡å— 3 | â˜â˜â˜â˜â˜ |  | â˜ æœªå¼€å§‹ â˜ è¿›è¡Œä¸­ â˜ å®Œæˆ |
| æ¨¡å— 4 | â˜â˜â˜â˜â˜ |  | â˜ æœªå¼€å§‹ â˜ è¿›è¡Œä¸­ â˜ å®Œæˆ |
| æ¨¡å— 5 | â˜â˜â˜â˜â˜ |  | â˜ æœªå¼€å§‹ â˜ è¿›è¡Œä¸­ â˜ å®Œæˆ |
| æ¨¡å— 6 | â˜â˜â˜â˜â˜ |  | â˜ æœªå¼€å§‹ â˜ è¿›è¡Œä¸­ â˜ å®Œæˆ |

---

## ğŸ”„ å¦‚ä½•ä½¿ç”¨æ­¤æ–‡ä»¶æ¢å¤å­¦ä¹ 

**æ­¥éª¤ 1**ï¼šå¤åˆ¶æ­¤æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹

**æ­¥éª¤ 2**ï¼šæ‰“å¼€æ–°çš„ AI å¯¹è¯çª—å£

**æ­¥éª¤ 3**ï¼šç²˜è´´å†…å®¹ï¼Œå¹¶è¯´ï¼š
```
æˆ‘æƒ³ç»§ç»­å­¦ä¹  crewAIï¼Œè¿™æ˜¯æˆ‘çš„å­¦ä¹ çŠ¶æ€æ–‡ä»¶ã€‚
è¯·å¸®æˆ‘ä» [æ¨¡å—X] å¼€å§‹/è¯·å›ç­”æˆ‘å…³äº [å…·ä½“é—®é¢˜] çš„ç–‘é—®ã€‚
```

**æ­¥éª¤ 4**ï¼šAI ä¼šè‡ªåŠ¨ï¼š
- é‡æ–°åŠ è½½æ ¸å¿ƒæŒ‡ä»¤
- è¯†åˆ«ä½ çš„å­¦ä¹ è¿›åº¦
- ç»§ç»­æ•™å­¦æˆ–ç­”ç–‘

---

**ğŸ‰ æ­å–œï¼ä½ å·²ç»æŒæ¡äº† crewAI çš„æ ¸å¿ƒçŸ¥è¯†ä½“ç³»ï¼**

ç°åœ¨ï¼Œæ˜¯æ—¶å€™åŠ¨æ‰‹å®è·µäº†ã€‚è®°ä½ï¼š
> **"è®¤çŸ¥ç§‘å­¦å‘Šè¯‰æˆ‘ä»¬ï¼ŒçœŸæ­£çš„å­¦ä¹ ä¸æ˜¯'é˜…è¯»'ï¼Œè€Œæ˜¯'å®è·µ + åæ€'ã€‚"**

å¼€å§‹æ„å»ºä½ çš„ç¬¬ä¸€ä¸ª Multi-Agent ç³»ç»Ÿå§ï¼ğŸ’ª
